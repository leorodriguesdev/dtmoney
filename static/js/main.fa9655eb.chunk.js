(this.webpackJsonpdtmoney=this.webpackJsonpdtmoney||[]).push([[0],{103:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),i=t(29),c=t.n(i),o=t(6),s=t(10),d=t.n(s),l=t(64),b=t(36),u=t(16),j=t(51),h=t.n(j).a.create({baseURL:"http://localhost:3000/api"}),m=t(0),p=Object(r.createContext)({});function g(n){var e=n.children,t=Object(r.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1];function s(){return(s=Object(u.a)(d.a.mark((function n(e){var t,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.post("/transactions",Object(b.a)(Object(b.a)({},e),{},{createdAt:new Date}));case 2:t=n.sent,r=t.data.transaction,c([].concat(Object(l.a)(i),[r]));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(r.useEffect)((function(){h.get("transactions").then((function(n){return c(n.data.transactions)}))}),[]),Object(m.jsx)(p.Provider,{value:{transactions:i,createTransaction:function(n){return s.apply(this,arguments)}},children:e})}function f(){return Object(r.useContext)(p)}var x,O,v=t(3),y=t(4),w=y.b.div(x||(x=Object(v.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 2rem;\n    margin-top: -10rem;\n\n    div {\n        background: var(--shape);\n        padding: 1.5rem 2rem;\n        border-radius: 0.25rem;\n        color: var(--text-title);\n\n        header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        strong {\n            display: block;\n            margin-top: 1rem;\n            font-size: 2rem;\n            font-weight: normal;\n            line-height: 3rem;\n        }\n\n        &.highlight-background {\n            background: var(--green);\n        }\n\n\n    }\n"]))),k=t.p+"static/media/outcome.6eb96d30.svg",C=t.p+"static/media/income.d58effe2.svg",N=t.p+"static/media/total.e90c2d1e.svg";function R(){var n=f().transactions.reduce((function(n,e){return"deposit"===e.type?(n.deposits+=e.amount,n.total+=e.amount):(n.withdraws+=e.amount,n.total-=e.amount),n}),{deposits:0,withdraws:0,total:0});return Object(m.jsxs)(w,{children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("p",{children:"Entradas"}),Object(m.jsx)("img",{src:C,alt:"Entradas"})]}),Object(m.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.deposits)})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("p",{children:"Sa\xeddas"}),Object(m.jsx)("img",{src:k,alt:"Sa\xeddas"})]}),Object(m.jsxs)("strong",{children:[0!==n.withdraws?"-":"",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.withdraws)]})]}),Object(m.jsxs)("div",{className:"highlight-background",children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("p",{children:"Total"}),Object(m.jsx)("img",{src:N,alt:"Total"})]}),Object(m.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.total)})]})]})}var S,z=y.b.div(O||(O=Object(v.a)(["\n    margin-top: 4rem;\n\n    table {\n        width: 100%;\n        border-spacing: 0 0.5rem;\n\n        th {\n            color: var(--text-body);\n            font-weight: 400;\n            text-align: left;\n            line-height: 1.5rem;\n        }\n\n        td {\n            padding: 1rem 2rem;\n            border: 0;\n            background: var(--shape);\n            color: var(--text-body);\n            border-radius: 0.25rem;\n            \n            &:first-child {\n                color: var(--text-title);  \n            }\n\n            &.deposit {\n                color: var(--green);\n            }\n\n            &.withdraw {\n                color: var(--red);\n            }\n        }\n    }\n"])));function B(){var n=f().transactions;return Object(m.jsx)(z,{children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"T\xedtulo"}),Object(m.jsx)("th",{children:"Valor"}),Object(m.jsx)("th",{children:"Categoria"}),Object(m.jsx)("th",{children:"Data"})]})}),Object(m.jsx)("tbody",{children:n.map((function(n){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[" ",n.title," "]}),Object(m.jsx)("td",{className:n.type,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.amount)}),Object(m.jsxs)("td",{children:[" ",n.category," "]}),Object(m.jsx)("td",{children:new Intl.DateTimeFormat("pt-BR").format(new Date(n.createdAt))})]},n.id)}))})]})})}var T=y.b.main(S||(S=Object(v.a)(["\n    max-width: 1120px;\n    margin: 0 auto;\n    padding: 2.5rem 1rem;\n\n"])));function A(){return Object(m.jsxs)(T,{children:[Object(m.jsx)(R,{}),Object(m.jsx)(B,{})]})}var D,E,F,I=t.p+"static/media/logo.614d71d1.svg",L=y.b.header(D||(D=Object(v.a)(["\n    background: var(--blue);\n"]))),q=y.b.div(E||(E=Object(v.a)(["\n    max-width: 1120px;\n    margin: 0 auto;\n\n    padding: 2rem 1rem 12rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    button {\n        font-size: 1rem;\n        color: #fff;\n        background: var(--blue-light);\n        border: 0;\n        padding: 0 2rem;\n        border-radius: 0.25rem;\n        height: 3rem;\n\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.9);\n        }\n    }\n\n"])));function J(n){var e=n.onOpenNewTransactionModal;return Object(m.jsx)(L,{children:Object(m.jsxs)(q,{children:[Object(m.jsx)("img",{src:I,alt:"dt money"}),Object(m.jsx)("button",{type:"button",onClick:e,children:"Nova Transa\xe7\xe3o"})]})})}var M,P,V,U=Object(y.a)(F||(F=Object(v.a)(["\n    :root {\n        --background: #f0f2f5;\n        --red: #e52e4d;\n        --blue: #070928;\n        --green: #33cc95;\n\n        --blue-light: #3456ff;\n\n        --tex-title: #363f5f;\n        --tex-body: #969cb3;\n\n        --shape: #ffffff;\n\n    }\n    \n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: 0;\n\n    }\n\n    body {\n        background: var(--background);\n        -webkit-font-smoothing: antialiased;\n    }\n\n\n    html {\n        @media (max-width: 1080px) {\n            font-size: 93.75%; //15px\n        }\n\n        @media (max-width: 720px) {\n            font-size: 87.5%; // 14px\n        }\n    }\n\n    body, input, textarea, button {\n        font-family: 'Poppins', sans-serif;\n        font-weight: 400;\n    }\n\n    h1, h2, h3, h4, h5, h6, strong {\n        font-weight: 600;\n    }\n\n    button {\n        cursor: pointer;\n    }\n\n    [disabled] {\n        opacity: 0.6;\n        cursor: not-allowed;\n    }\n\n    .react-modal-overlay {\n        background: rgba(0, 0, 0, 0.5);\n\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .react-modal-content {\n        width: 100%;\n        max-width: 576px;\n        background: var(--background);\n        padding: 3rem;\n        position: relative;\n        border-radius: 0.24rem;\n    }\n    \n    .react-modal-close {\n        position: absolute;\n        right: 1.5rem;\n        top: 1.5rem;\n        border: 0;\n        background: transparent;\n\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.8);\n        }\n    }\n"]))),G=t(18),H=t.n(G),K=t(34),Q=y.b.form(M||(M=Object(v.a)(['\n    h2{\n        color: var(--text-title);\n        font-size: 1.5rem;\n        margin-bottom: 2rem;\n    }\n\n    input {\n        width: 100%;\n        padding: 0 1.5rem;\n        height: 4rem;\n        border-radius: 0.25rem;\n\n        box-sizing: border-box;\n\n        border: 1px solid #d7d7d7;\n        background: #e7e9ee;\n\n        font-weight: 400;\n        font-size: 1rem;\n\n        &::placeholder {\n            color: var(--text-body);\n        }\n\n        & + input {\n            margin-top: 1rem;\n        }\n        \n    }\n\n    input[type=number]::-webkit-inner-spin-button { \n            -webkit-appearance: none;\n    } \n\n    input[type=number] { \n        -moz-appearance: textfield;\n        appearance: textfield;\n    }\n\n    button[type="submit"] {\n            width: 100%;\n            padding: 0 1.5rem; \n            height: 4rem;\n            background: var(--green);\n            color: #fff;\n            border-radius: 0.25rem;\n            border: 0;\n            font-size: 1rem;\n            margin-top: 1.5rem;\n            font-weight: 600;\n\n            transition: filter 0.2s;\n\n            &:hover {\n            filter: brightness(0.9);\n        }\n        }\n']))),W=y.b.div(P||(P=Object(v.a)(["\n    margin: 1rem 0;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 0.5rem;\n"]))),X={green:"#33cc95",red:"#e52e4d"},Y=y.b.button(V||(V=Object(v.a)(["\n        height: 4rem;\n        border: 1px solid #d7d7d7;\n        border-radius: 0.25rem;\n\n        background: ",";\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        transition: border-color 0.2s;\n\n        &:hover {\n            border-color: ",";\n        }\n\n        img {\n            width: 20px;\n            height: 20px;\n        }\n\n        span {\n            display: inline-block;\n            margin-left: 1rem;\n            font-size: 1rem;\n            color: var(--text-title);\n        }\n"])),(function(n){return n.isActive?Object(K.b)(.9,X[n.activeColor]):"transparent"}),Object(K.a)(.1,"#d7d7d7")),Z=t.p+"static/media/close.f62862c6.svg";function $(n){var e=n.isOpen,t=n.onRequestClose,a=f().createTransaction,i=Object(r.useState)(""),c=Object(o.a)(i,2),s=c[0],l=c[1],b=Object(r.useState)(0),j=Object(o.a)(b,2),h=j[0],p=j[1],g=Object(r.useState)(""),x=Object(o.a)(g,2),O=x[0],v=x[1],y=Object(r.useState)("deposit"),w=Object(o.a)(y,2),N=w[0],R=w[1];function S(){return(S=Object(u.a)(d.a.mark((function n(e){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,a({title:s,amount:h,category:O,type:N});case 3:l(""),p(0),v(""),R("deposit"),t();case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(m.jsxs)(H.a,{isOpen:e,onRequestClose:t,overlayClassName:"react-modal-overlay",className:"react-modal-content",children:[Object(m.jsx)("button",{type:"button",onClick:t,className:"react-modal-close",children:Object(m.jsx)("img",{src:Z,alt:"fechar modal"})}),Object(m.jsxs)(Q,{onSubmit:function(n){return S.apply(this,arguments)},children:[Object(m.jsx)("h2",{children:"Cadastrar transa\xe7\xe3o"}),Object(m.jsx)("input",{placeholder:"T\xedtulo",value:s,onChange:function(n){return l(n.target.value)}}),Object(m.jsx)("input",{type:"number",placeholder:"Valor",onChange:function(n){return p(Number(n.target.value))}}),Object(m.jsxs)(W,{children:[Object(m.jsxs)(Y,{type:"button",isActive:"deposit"===N,onClick:function(){R("deposit")},activeColor:"green",children:[Object(m.jsx)("img",{src:C,alt:"Entrada"}),Object(m.jsx)("span",{children:"Entrada"})]}),Object(m.jsxs)(Y,{type:"button",onClick:function(){R("withdraw")},isActive:"withdraw"===N,activeColor:"red",children:[Object(m.jsx)("img",{src:k,alt:"Sa\xedda"}),Object(m.jsx)("span",{children:"Sa\xedda"})]})]}),Object(m.jsx)("input",{placeholder:"Categoria",value:O,onChange:function(n){return v(n.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"Cadastrar"})]})]})}function _(){var n=Object(r.useState)(!1),e=Object(o.a)(n,2),t=e[0],a=e[1];return Object(m.jsxs)(g,{children:[Object(m.jsx)(J,{onOpenNewTransactionModal:function(){a(!0)}}),Object(m.jsx)(A,{}),Object(m.jsx)($,{isOpen:t,onRequestClose:function(){a(!1)}}),Object(m.jsx)(U,{})]})}H.a.setAppElement("#root");var nn=t(35);Object(nn.b)({models:{transaction:nn.a},seeds:function(n){n.db.loadData({transactions:[{id:1,title:"Freelancer de website",type:"deposit",category:"Dev",amount:900,createdAt:new Date("2021-08-31 17:00:00")},{id:2,title:"Aluguel",type:"withdraw",category:"Casa",amount:600,createdAt:new Date("2021-08-31 17:00:00")}]})},routes:function(){var n=this;this.namespace="api",this.get("/transactions",(function(){return n.schema.all("transaction")})),this.post("/transactions",(function(n,e){var t=JSON.parse(e.requestBody);return n.create("transaction",t)}))}}),c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.fa9655eb.chunk.js.map